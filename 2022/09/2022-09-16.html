
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>2022-09-16å· Â· Neco Weekly</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.5">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        

    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2022-09-08.html" />
    
    
    <link rel="prev" href="2022-09-30.html" />
    

    <link href="https://cybozu-neco.github.io/neco-weekly/rss.xml" title="Neco Weekly" rel="alternate" type="application/rss+xml" />

<meta property="og:type" content="article">
<meta property="og:title" content="2022-09-16å·">
<meta property="og:description" content="æœ€è¿‘æ°—ã«ãªã‚‹ Cloud Native é–¢é€£ã®ãƒã‚¿">
<meta property="og:site_name" content="Neco Weekly">
<meta property="og:image" content="https://cybozu-neco.github.io/neco-weekly/neco-weekly.png">
<meta name="twitter:card" content="summary_large_image">

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Neco Weeklyã¨ã¯
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    2022å¹´
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    9æœˆ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="2022-09-30.html">
            
                <a href="2022-09-30.html">
            
                    
                    2022-09-30å·
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.1.2" data-path="2022-09-16.html">
            
                <a href="2022-09-16.html">
            
                    
                    2022-09-16å·
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="2022-09-08.html">
            
                <a href="2022-09-08.html">
            
                    
                    2022-09-08å·
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="2022-09-01.html">
            
                <a href="2022-09-01.html">
            
                    
                    2022-09-01å·
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    8æœˆ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../08/2022-08-26.html">
            
                <a href="../08/2022-08-26.html">
            
                    
                    2022-08-26å·
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../08/2022-08-19.html">
            
                <a href="../08/2022-08-19.html">
            
                    
                    2022-08-19å·
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../08/2022-08-05.html">
            
                <a href="../08/2022-08-05.html">
            
                    
                    2022-08-05å·
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    7æœˆ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../07/2022-07-29.html">
            
                <a href="../07/2022-07-29.html">
            
                    
                    2022-07-29å·
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../07/2022-07-22.html">
            
                <a href="../07/2022-07-22.html">
            
                    
                    2022-07-22å·
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >2022-09-16å·</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
<image src="/neco-weekly/neco-weekly.png"></image>

                                <h1 id="neco-weekly-2022-09-16å·">Neco Weekly (2022-09-16å·)</h1>
<p>ã‚µã‚¤ãƒœã‚¦ã‚º Neco ãƒãƒ¼ãƒ ã§ã¯ã€ Neco Weekly ã¨ã„ã†ã€Œæœ€è¿‘æ°—ã«ãªã‚‹ Cloud Native é–¢é€£ã®ãƒã‚¿ã‚’å…±æœ‰ã™ã‚‹ä¼šã€ã‚’ç¤¾å†…ã§é–‹å‚¬ã—ã¦ã„ã¾ã™ã€‚
æœ¬è¨˜äº‹ã¯å…±æœ‰ä¼šã®ä¸­ã§ç´¹ä»‹ã—ãŸãƒã‚¿ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚</p>
<p>ä»Šå›ã¯ç¬¬8å›ç›®ã®è¨˜äº‹ã¨ãªã‚Šã¾ã™ã€‚</p>
<h2 id="âœ¨-news">âœ¨ News</h2>
<h3 id="moco-v0130">MOCO v0.13.0</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="release-release-v0130-Â·-cybozu-gomoco"><a href="https://github.com/cybozu-go/moco/releases/tag/v0.13.0" target="_blank">Release Release v0.13.0 Â· cybozu-go/moco</a></h4><p>You can&apos;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or window. Reload to refresh your session. Reload to refresh your session.</p></blockquote>

<p>Neco ãƒãƒ¼ãƒ ãŒé–‹ç™ºã—ã¦ã„ã‚‹ MySQL ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ MOCO ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ v0.13.0 ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸã€‚
ä»Šå›ã®ç›®ç‰ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã§ã™ã€‚</p>
<ul>
<li><a href="https://github.com/cybozu-go/moco/blob/329f2e26d014b12bba16502516ea5be80e7b6463/docs/designdoc/support_apply_pvc_template_changes.md" target="_blank">Support apply PVC template changes to StatefulSet</a></li>
</ul>
<p>MOCO ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãª MySQLCluster ãƒªã‚½ãƒ¼ã‚¹ã‚’è¨˜è¿°ã—ã¦ MySQL ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã®ã¨ã <code>volumeClaimTemplates</code> ã® <code>spec.resources.requests.storage</code> ã«ã‚ˆã‚Šã€MySQL ãŒåˆ©ç”¨ã™ã‚‹ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ã‚µã‚¤ã‚ºã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<pre><code class="lang-yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">moco.cybozu.com/v1beta2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">MySQLCluster</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">foo</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">default</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">mysqlConfigMapName:</span> <span class="hljs-string">mycnf</span>
  <span class="hljs-attr">podTemplate:</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">mysqld</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/cybozu/mysql:8.0.28</span>
  <span class="hljs-attr">volumeClaimTemplates:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">mysql-data</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">accessModes:</span> [ <span class="hljs-string">&quot;ReadWriteOnce&quot;</span> ]
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">requests:</span>
          <span class="hljs-attr">storage:</span> <span class="hljs-string">1Gi</span>
</code></pre>
<p>ã—ã‹ã—ã€ã“ã‚Œã¾ã§ã® MOCO ã§ã¯ã‚¯ãƒ©ã‚¹ã‚¿æ§‹ç¯‰å¾Œã« <code>volumeClaimTemplates</code> ã‚’æ›¸ãæ›ãˆã¦ã‚‚ PersistentVolumeClaim ãƒªã‚½ãƒ¼ã‚¹ãŒæ›´æ–°ã•ã‚Œãšã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ã‚µã‚¤ã‚ºã‚’ç°¡å˜ã«ã¯å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</p>
<p>ã“ã‚Œã¯ MOCO ã®å•é¡Œã¨ã„ã†ã‚ˆã‚Šã‚‚ã€ä»¥ä¸‹ã®ãƒ–ãƒ­ã‚°ã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã« Kubernetes ã® StatefulSet ã®ä»•æ§˜ã¨ãªã‚Šã¾ã™ã€‚</p>
<ul>
<li><a href="https://www.plural.sh/blog/kubernetes-statefulsets-are-broken/" target="_blank">Kubernetes StatefulSets are Broken</a></li>
</ul>
<p><a href="https://github.com/kubernetes/enhancements/issues/661" target="_blank">KEP-0661</a> ã«ãŠã„ã¦ StatefulSet ã§ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ãƒªã‚µã‚¤ã‚ºã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®æ¤œè¨ãŒé€²ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã® KEP ã®å®Ÿè£…ã‚’å¾…ã£ã¦ã„ãŸã®ã§ã¯éå¸¸ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚</p>
<p>ãã“ã§ MOCO v0.13.0 ã§ã¯ã€<code>volumeClaimTemplates</code> ã‚’æ›¸ãæ›ãˆã‚‹ã¨ PersistentVolumeClaim ãƒªã‚½ãƒ¼ã‚¹ã‚’æ›´æ–°ã—ã€Pod ã¯æ®‹ã—ãŸã¾ã¾ StatefulSet ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ã‚’æ›´æ–°ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
ã“ã‚Œã«ã‚ˆã‚Šç°¡å˜ã«ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ãƒªã‚µã‚¤ã‚ºãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<p>ã‚ˆã‚Šä¾¿åˆ©ã«ãªã£ãŸ MOCO ã‚’ãœã²ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>
<h3 id="coil-v212">coil v2.1.2</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="release-release-v212-Â·-cybozu-gocoil"><a href="https://github.com/cybozu-go/coil/releases/tag/v2.1.2" target="_blank">Release Release v2.1.2 Â· cybozu-go/coil</a></h4><p>You can&apos;t perform that action at this time. You signed in with another tab or window. You signed out in another tab or window. Reload to refresh your session. Reload to refresh your session.</p></blockquote>

<p>Neco ãƒãƒ¼ãƒ ãŒé–‹ç™ºã—ã¦ã„ã‚‹ CNI ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚ã‚‹ coil ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ v2.1.2 ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸã€‚</p>
<p>coil v2.1.2 ã§ã¯ä»¥ä¸‹ã®ä¸å…·åˆã®ä¿®æ­£ã‚’ãŠã“ãªã£ã¦ã„ã¾ã™ã€‚</p>
<ul>
<li><a href="https://github.com/cybozu-go/coil/pull/227" target="_blank">Fix the bug that Coil accidentally deletes a live peer #227</a></li>
</ul>
<p>coil ã¯ã‚ªãƒ—ãƒˆã‚¤ãƒ³æ–¹å¼ã§å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¸ã® NAT æ¥ç¶šã‚’ãŠã“ãªã†ãŸã‚ã® Egress NAT ã¨ã„ã†æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚
è©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¯ä»¥ä¸‹ã®è¨˜äº‹ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
<ul>
<li><a href="https://blog.cybozu.io/entry/2020/10/28/194333" target="_blank">Kubernetes ç”¨ CNI ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ Coil v2 ã®ç´¹ä»‹</a></li>
<li><a href="https://blog.kintone.io/entry/coil-egress" target="_blank">Implementing highly-available NAT service on Kubernetes</a></li>
</ul>
<p>ä»Šå›ã®ãƒªãƒªãƒ¼ã‚¹ã§ã¯ã€ Egress NAT ã®æ¥ç¶šãŒã¾ã‚Œã«åˆ‡ã‚Œã¦ã—ã¾ã†ã¨ã„ã†å•é¡Œã‚’ä¿®æ­£ã—ã¾ã—ãŸã€‚</p>
<p>Kubernetes ã§ã¯ Job ã¨ã—ã¦å®Ÿè¡Œã—ãŸ Pod ã¯ã€å‡¦ç†ãŒå®Œäº†ã—ãŸå¾Œã‚‚ Pod ãƒªã‚½ãƒ¼ã‚¹ãŒæ®‹ã‚Šç¶šã‘ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ï¼ˆJobsHistoryLimitã®è¨­å®šã«ã‚ˆã‚‹ï¼‰ã€‚
ã“ã‚Œã¾ã§ã® coil ã§ã¯ã€æ–°ã—ãç”Ÿæˆã•ã‚ŒãŸ Pod ã«å‡¦ç†ãŒå®Œäº†ã—ãŸ Job ã® Pod ã¨åŒã˜ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚
ãã®å¾Œ Job ã® Pod ãŒå‰Šé™¤ã•ã‚ŒãŸéš›ã«ã€coil ã¯ãã® Pod ãŒæŒã£ã¦ã„ãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å¯¾ã—ã¦ Egress NAT ã®ãƒˆãƒ³ãƒãƒ«æ¥ç¶šã‹ã‚‰è§£é™¤ã—ã¦ã—ã¾ã†ãŸã‚ã€æ–°ã—ãç”Ÿæˆã•ã‚ŒãŸ Pod ãŒå¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨é€šä¿¡ãŒã§ããªããªã‚‹ã¨ã„ã†å•é¡ŒãŒèµ·ãã¦ã„ã¾ã—ãŸã€‚
ãªã‹ãªã‹åŸå› ã®è§£æ˜ãŒé›£ã—ã„ä¸å…·åˆã§ã—ãŸã€‚</p>
<h2 id="ğŸ‘€-notable-prs">ğŸ‘€ Notable PRs</h2>
<h3 id="client-go-add-function-to-upgrade-managedfields-csa-to-ssa">[client-go] add function to upgrade managedfields CSA to SSA</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="client-go-add-function-to-upgrade-managedfields-csa-to-ssa-by-alexzielenski-Â·-pull-request-111967-Â·-kuberneteskubernetes"><a href="https://github.com/kubernetes/kubernetes/pull/111967" target="_blank">[client-go] add function to upgrade managedfields CSA to SSA by alexzielenski Â· Pull Request #111967 Â· kubernetes/kubernetes</a></h4><p>What type of PR is this? /kind bug What this PR does / why we need it: Which issue(s) this PR fixes: Fixes #99003 Special notes for your reviewer: Does this PR introduce a user-facing change?</p></blockquote>

<p>Kubernetes ã®ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãªã©ã§ã€ãƒªã‚½ãƒ¼ã‚¹ã®é©ç”¨æ–¹å¼ã‚’ Client-Side Apply æ–¹å¼ã‹ã‚‰ Server-Side Apply æ–¹å¼ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€ Client-Side Apply æ–¹å¼ã§é©ç”¨ã—ãŸéš›ã® <code>managedFields</code> ãŒæ®‹ã‚Šç¶šã‘ã‚‹ã¨ã„ã†å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€æœ¬æ¥ã¯å‰Šé™¤ã—ãŸã¯ãšã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå‰Šé™¤ã•ã‚Œãšã«æ®‹ã£ã¦ã—ã¾ã†å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
è©³ã—ãã¯ä¸‹è¨˜ã®ã‚¹ãƒ©ã‚¤ãƒ‰ãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚</p>
<ul>
<li><a href="https://www.slideshare.net/pfi/metadatamanagedfields-kubernetes-meetup-tokyo-48-251269647" target="_blank">ã‚ã‹ã‚‹ï¼metadata.managedFields / Kubernetes Meetup Tokyo 48</a></li>
</ul>
<p>è¡¨é¡Œã® PR ã§ã¯ã€Client-Side Apply ã§é©ç”¨ã—ãŸéš›ã® <code>managedFields</code> ã‚’ Server-Side Apply ç”¨ã® <code>managedFields</code> ã«æ›¸ãæ›ãˆã¦ãã‚Œã‚‹é–¢æ•°ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>è‡ªä½œã®ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ Client-Side Apply æ–¹å¼ã‹ã‚‰ Server-Side Apply æ–¹å¼ã«åˆ‡ã‚Šæ›¿ãˆã‚‹éš›ã«å½¹ç«‹ã¡ãã†ã§ã™ã­ã€‚</p>
<h3 id="support-removal-of-event-handlers-from-sharedindexinformers">support removal of event handlers from SharedIndexInformers</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="support-removal-of-event-handlers-from-sharedindexinformers-by-alexzielenski-Â·-pull-request-111122-Â·-kuberneteskubernetes"><a href="https://github.com/kubernetes/kubernetes/pull/111122" target="_blank">support removal of event handlers from SharedIndexInformers by alexzielenski Â· Pull Request #111122 Â· kubernetes/kubernetes</a></h4><p>What type of PR is this? /kind feature What this PR does / why we need it: Text from original PR: To be able to implement controllers that are dynamically deciding on which resources to watch, it is required to get rid of dedicated watches and event handlers again.</p></blockquote>

<p>Kubernetes ã® client-go ã«ã¯ã€ç‰¹å®šã®ç¨®é¡ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ãŠãã€ãã®ç¨®é¡ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ watch ã—ã¦å¤‰åŒ–ãŒç”Ÿã˜ãŸã¨ãã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°ã—ã¦ãã‚Œã‚‹ Informer ã¨ã„ã†ä»•çµ„ã¿ãŒã‚ã‚Šã¾ã™ã€‚
Kubernetes ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¯ã“ã®ä»•çµ„ã¿ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹ãŸã³ã« API Server ã«å•ã„åˆã‚ã›ã‚‹å¿…è¦ãŒãªããªã‚Šã€åŠ¹ç‡çš„ãªå®Ÿè£…ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>ã“ã‚Œã¾ã§ã® client-go ã§ã¯ã€ä¸€åº¦ watch ã—ãŸç¨®é¡ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ watch ã®å¯¾è±¡ã‹ã‚‰å¤–ã™ã“ã¨ã¯ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚
ãã®ãŸã‚ã€watch å¯¾è±¡ã®ãƒªã‚½ãƒ¼ã‚¹ãŒå‹•çš„ã«å¤‰åŒ–ã™ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§ã¯ã€ä¸è¦ã«ãªã£ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãƒ¡ãƒ¢ãƒªä¸Šã«æ®‹ã‚Šç¶šã‘ã‚‹ã“ã¨ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚
ï¼ˆwatch å¯¾è±¡ã®ãƒªã‚½ãƒ¼ã‚¹ãŒå‹•çš„ã«å¤‰åŒ–ã™ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¨ã„ã†ã®ã¯ã‹ãªã‚Šç‰¹æ®Šãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã‚ã‚Šã¾ã™ãŒâ€¦ï¼‰</p>
<p>ã“ã® PR ã§ã¯ã€watch ã—ã¦ã„ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ watch ã‹ã‚‰å¤–ã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p>
<p>ãªãŠã€client-go ã‚’ç›´æ¥åˆ©ç”¨ã™ã‚‹ã®ã§ã¯ãªã controller-runtime ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã® PR ã®å¯¾å¿œã‚’å¾…ã¤å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚</p>
<ul>
<li><a href="https://github.com/kubernetes-sigs/controller-runtime/issues/1884" target="_blank">Add and remove watches at runtime #1884</a></li>
</ul>
<h2 id="ğŸ‘€-notable-articles">ğŸ‘€ Notable Articles</h2>
<h3 id="the-protobuf-language-specification">The Protobuf Language Specification</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="the-protobuf-language-specification"><a href="https://buf.build/blog/protobuf-language-specification" target="_blank">The Protobuf Language Specification</a></h4><p>At Buf, our goal is to improve the way software systems integrate by making schema-driven development a &quot;pit of success&quot;. And we&apos;ve put our money on Protobuf as the winning way to describe those schemas. We are expanding on the work of the Protobuf team by providing the community a complete language spec.</p></blockquote>

<p><a href="../07/2022-07-22.html">2022-07-22å·</a> ã§ Connect ã¨ã„ã†æ–°ã—ã„ gRPC å®Ÿè£…ã‚’ç´¹ä»‹ã—ã¾ã—ãŸãŒã€Connect ã‚’é–‹ç™ºã—ã¦ã„ã‚‹ Buf ç¤¾ãŒ protoc ã®å®Ÿè£…ã‹ã‚‰ protobuf ã®æ­£ã—ã„ä»•æ§˜æ›¸ã‚’æ›¸ãèµ·ã“ã—ã¦ãã‚ŒãŸã¨ã„ã†è¨˜äº‹ã§ã™ã€‚</p>
<p>å®Ÿè£…ã ã‘ã§ãªãä»•æ§˜æ›¸ã‚‚ã—ã£ã‹ã‚Šã¨æ•´å‚™ã—ã¦ãã‚Œã‚‹ã¨ã„ã†ã®ã¯ã‚ã‚ŠãŒãŸã„ã§ã™ã­ã€‚</p>
<h3 id="announcing-the-auto-refreshing-official-kubernetes-cve-feed">Announcing the Auto-refreshing Official Kubernetes CVE Feed</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="announcing-the-auto-refreshing-official-kubernetes-cve-feed"><a href="https://kubernetes.io/blog/2022/09/12/k8s-cve-feed-alpha/" target="_blank">Announcing the Auto-refreshing Official Kubernetes CVE Feed</a></h4><p>Author: Pushkar Joglekar (VMware) A long-standing request from the Kubernetes community has been to have a programmatic way for end users to keep track of Kubernetes security issues (also called &quot;CVEs&quot;, after the database that tracks public security issues across different products and vendors).</p></blockquote>

<p>Kubernetes ã® CVE ã‚’é…ä¿¡ã™ã‚‹ Feed ãŒæä¾›ã•ã‚ŒãŸã¨ã„ã†è¨˜äº‹ã§ã™ã€‚</p>
<p>ã“ã® Feed ã¯ CVE ãŒç™ºè¡¨ã•ã‚Œã¦ã‹ã‚‰æ•°åˆ†ã‹ã‚‰æ•°æ™‚é–“ã§æ›´æ–°ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚
ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å•é¡Œã«ã™ã°ã‚„ãæ°—ã¥ã‘ã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã§ã¨ã¦ã‚‚ã‚ã‚ŠãŒãŸã„ã§ã™ã­ã€‚</p>
<p>ãªãŠã€ã“ã® CVE Feed ã‚’ä½œæˆã—ãŸçµŒç·¯ã«ã¤ã„ã¦ã¯ <a href="https://twitter.com/PuDiJoglekar/status/1569430092287471616" target="_blank">PuDiJoglekarã•ã‚“ã®Tweet</a> ã«ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚
Google Groups ãŒ RSS ã®æä¾›ã‚’ã‚„ã‚ãŸã“ã¨ãŒãã£ã‹ã‘ã ãã†ã§ã™ã€‚</p>
<h3 id="kubernetes-controller-sharding">kubernetes-controller-sharding</h3>
<blockquote class="embedly-card" data-card-controls="0"><h4 id="shingo-omura-âˆ-on-twitter-kubernetesã«ãŠã‘ã‚‹controllerã¯é€šå¸¸leader-podã ã‘ãŒreconcileã‚’æ‹…å½“ã™ã‚‹ã®ã§ã€ãƒªã‚½ãƒ¼ã‚¹æ•°ãŒå¤šããªã‚‹ã¨ã¨reconcileãŒé…å»¶ã—å§‹ã‚ã‚‹ã€‚ã®ã§shardingã—ã¦reconcileã‚’scale-outã•ã›ãŸã„ãªã£ã¦æ€ã£ã¦ãŸã‚“ã ã‘ã©ã€ã‚„ã£ã±ã‚Šã‚‚ã†è©¦ã—ã¦ã‚‹äººãŒã„ãŸã€‚-ç†±ã™ãã€‚-k8sjp-httpstco7nsgxtfj2x--twitter"><a href="https://twitter.com/everpeace/status/1570403134698319876" target="_blank">Shingo Omura âˆ on Twitter: &quot;Kubernetesã«ãŠã‘ã‚‹controllerã¯é€šå¸¸leader podã ã‘ãŒreconcileã‚’æ‹…å½“ã™ã‚‹ã®ã§ã€ãƒªã‚½ãƒ¼ã‚¹æ•°ãŒå¤šããªã‚‹ã¨ã¨reconcileãŒé…å»¶ã—å§‹ã‚ã‚‹ã€‚ã®ã§shardingã—ã¦reconcileã‚’scale outã•ã›ãŸã„ãªã£ã¦æ€ã£ã¦ãŸã‚“ã ã‘ã©ã€ã‚„ã£ã±ã‚Šã‚‚ã†è©¦ã—ã¦ã‚‹äººãŒã„ãŸã€‚ ç†±ã™ãã€‚ #k8sjp https://t.co/7NsGxtfJ2x / Twitter&quot;</a></h4><p>Kubernetesã«ãŠã‘ã‚‹controllerã¯é€šå¸¸leader podã ã‘ãŒreconcileã‚’æ‹…å½“ã™ã‚‹ã®ã§ã€ãƒªã‚½ãƒ¼ã‚¹æ•°ãŒå¤šããªã‚‹ã¨ã¨reconcileãŒé…å»¶ã—å§‹ã‚ã‚‹ã€‚ã®ã§shardingã—ã¦reconcileã‚’scale outã•ã›ãŸã„ãªã£ã¦æ€ã£ã¦ãŸã‚“ã ã‘ã©ã€ã‚„ã£ã±ã‚Šã‚‚ã†è©¦ã—ã¦ã‚‹äººãŒã„ãŸã€‚ ç†±ã™ãã€‚ #k8sjp https://t.co/7NsGxtfJ2x</p></blockquote>

<p>Kubernetes ã®ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã•ã›ã‚‹ãŸã‚ã«ã€ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦è¤‡æ•°ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§ Reconcile å‡¦ç†ã‚’ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ä»•çµ„ã¿ã‚’å®Ÿé¨“çš„ã«é–‹ç™ºã—ã¦ã„ã‚‹ãã†ã§ã™ã€‚
éå¸¸ã«èˆˆå‘³æ·±ã„å–ã‚Šçµ„ã¿ã§ã™ã€‚</p>
<p>Neco ãƒãƒ¼ãƒ ã§ã¯ã¾ã  1 ã¤ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§ Reconcile å‡¦ç†ãŒé–“ã«åˆã‚ãªãã¦å›°ã£ãŸã¨ã„ã†ã‚±ãƒ¼ã‚¹ã«ã¯é­é‡ã—ã¦ã„ãªã„ã®ã§ã™ãŒã€ã©ã‚Œãã‚‰ã„ã®è¦æ¨¡ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ã¨ãã«ã“ã†ã„ã£ãŸä»•çµ„ã¿ãŒå¿…è¦ã«ãªã£ã¦ãã‚‹ã®ã‹æ°—ã«ãªã‚‹ã¨ã“ã‚ã§ã™ã€‚</p>
<h2 id="ã‚ã¨ãŒã">ã‚ã¨ãŒã</h2>
<p>ä»Šå› MOCO v0.13.0 ã«ã¤ã„ã¦å–ã‚Šä¸Šã’ã¾ã—ãŸãŒã€ã“ã®ãƒªãƒªãƒ¼ã‚¹ã§ã¯ç´¹ä»‹ã—ãŸæ–°æ©Ÿèƒ½ã®ä»–ã«ã‚‚ç¤¾å¤–ã®æ–¹ã‹ã‚‰ã® PR ã‚’ã„ãã¤ã‹å–ã‚Šè¾¼ã‚“ã§ã„ã¾ã™ã€‚
æœ€è¿‘ã¯ MOCO ã®åˆ©ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¢—ãˆã¦ã„ã‚‹ã‚ˆã†ã§ã€ç››ã‚Šä¸ŠãŒã‚Šã‚’æ„Ÿã˜ã¾ã™ã­ã€‚</p>

                                

                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="2022-09-30.html" class="navigation navigation-prev " aria-label="Previous page: 2022-09-30å·">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2022-09-08.html" class="navigation navigation-next " aria-label="Next page: 2022-09-08å·">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2022-09-16å·","level":"1.2.1.2","depth":3,"next":{"title":"2022-09-08å·","level":"1.2.1.3","depth":3,"path":"2022/09/2022-09-08.md","ref":"2022/09/2022-09-08.md","articles":[]},"previous":{"title":"2022-09-30å·","level":"1.2.1.1","depth":3,"path":"2022/09/2022-09-30.md","ref":"2022/09/2022-09-30.md","articles":[]},"dir":"ltr"},"config":{"plugins":["back-to-top-button","intopic-toc","toolbar","rss"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3","mode":"nested","maxDepth":2,"isCollapsed":false,"isScrollspyActive":true,"visible":true,"label":"In this article"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"rss":{"categories":[],"title":"Neco Weekly","author":"cybozu-neco","site_url":"https://cybozu-neco.github.io/neco-weekly/","feed_url":"https://cybozu-neco.github.io/neco-weekly/rss.xml"},"highlight":{},"back-to-top-button":{},"toolbar":{"buttons":[{"label":"GitHub","icon":"fa fa-github fa-2x","url":"https://github.com/cybozu-neco/neco-weekly"}]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Neco Weekly","image":"https://cybozu-neco.github.io/neco-weekly/neco-weekly.png","gitbook":"*","description":"æœ€è¿‘æ°—ã«ãªã‚‹ Cloud Native é–¢é€£ã®ãƒã‚¿"},"file":{"path":"2022/09/2022-09-16.md","mtime":"2022-09-20T09:32:00.446Z","type":"markdown"},"gitbook":{"version":"3.7.5","time":"2022-10-03T05:46:25.167Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        

    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-toolbar/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-rss/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

<script src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>

    </body>
</html>

